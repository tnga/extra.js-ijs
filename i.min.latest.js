"undefined"!=typeof iJS?(console.warn("Seem like `iJS` namespace is use for another purpose. Taking risk of an overwrite ..."),window.iJS=iJS={},console.warn("Forcing iJS namespace initialization ... done.")):window.iJS={},iJS={version:"0.48_15.08",isNumber:function(t){return"number"===(typeof t).toLowerCase()||t instanceof Number},isBoolean:function(t){return"boolean"===(typeof t).toLowerCase()||t instanceof Boolean},isString:function(t){return"string"===(typeof t).toLowerCase()||t instanceof String},isArray:function(t){return t instanceof Array},isHTMLElement:function(t){return t instanceof HTMLElement},isHTMLImageElement:function(t){return t instanceof HTMLImageElement},isHTMLLinkElement:function(t){return t instanceof HTMLLinkElement},isObject:function(t){return"object"===(typeof t).toLowerCase()},isSet:function(t){return void 0!==t&&null!=t},isDefined:function(t){return void 0!==t},isUndefined:function(t){return void 0===t},newHTTPRequest:function(){var t=null;if(window.XMLHttpRequest)t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType("text/xml");else if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(i){console.warn(e.message),console.warn(i.message)}}else console.error("iJS:'newHTTPRequest': Can’t init Ajax functionalities. Maybe it’s your browser version?");return t},mi_loader:function(t,e,i,a,n){iJS.isString(e)&&(this.imgDir=e),iJS.isNumber(i)&&(this.imgLength=i),iJS.isString(a)&&(this.imgGlobalName=a),this.imgFormat=iJS.isString(n)?n:"png",iJS.isString(t)&&(iJS.isHTMLImageElement(document.getElementById(t))?this.imgContainer=document.getElementById(t):iJS.isHTMLImageElement(t)&&(this.imgContainer=t)),this.imgIndex=0,this.imgPath="",this.loaderID=0,this.changeIMGLoader=function(t){var e=t instanceof iJS.mi_loader?t:this;e.imgDir&&e.imgLength&&e.imgGlobalName&&(e.imgIndex<e.imgLength?(e.imgPath=e.imgDir+"/"+e.imgGlobalName+e.imgIndex+"."+e.imgFormat,e.imgIndex++):e.imgIndex=0),e.imgContainer&&(e.imgContainer.src=e.imgPath)},this.startLoading=function(t){this.loaderID&&this.stopLoading(),this.loaderID=iJS.isNumber(t)?setInterval(this.changeIMGLoader,t,this):setInterval(this.changeIMGLoader,150,this)},this.stopLoading=function(t){iJS.isNumber(t)?setTimeout(function(t){t instanceof iJS.mi_loader&&(clearInterval(t.loaderID),t.imgIndex=0,t.loaderID=0,t.changeIMGLoader())},t,this):(clearInterval(this.loaderID),this.imgIndex=0,this.loaderID=0,this.changeIMGLoader())}}},iJS.Gettext=function(){return this.domain="messages",this.domain_registry=[],this.locale_data=void 0,this.locale_format=null,this.locale=null,this},iJS.i18n=new iJS.Gettext,iJS._=function(t){return iJS.i18n.gettext(t)},iJS.Gettext.prototype.setlocale=function(t){if(!iJS.isString(t))throw new Error("iJS-gettext:'setlocale': Invalid argument: *"+t+"* have to be a `string`.");/^.._..\./.test(t)?this.locale_format=2:/^.._..$/.test(t)?this.locale_format=1:/^..$/.test(t)?this.locale_format=0:(this.locale_format=-1,console.warn("iJS-gettext:'setlocale': It seem like locale: *"+t+"* do not conform to the **i18n standard format**.")),this.locale=t},iJS.Gettext.prototype.bindtextdomain=function(t,e,i){var a,n,r;if(!iJS.isString(t))throw new Error("iJS-gettext:'bindtextdomain': a *domaine* have to be defined as argument.");if(a=t,iJS.isString(i)){if("mo"!=i&&"po"!=i&&"json"!=i)throw new Error("iJS-gettext:'bindtextdomain': type: *"+i+"* is not supported. Use *mo*, *po* or *json* files.");r=i}else r="mo";if(n=iJS.isString(e)?e:"",iJS.isArray(this.domain_registry)||(this.domain_registry=[]),this.domain_registry.length){var o=!0;for(var s in this.domain_registry)if(this.domain_registry[s].value==a){console.warn("iJS-gettext:'bindtextdomain': domaine: *"+a+"* is already added and will just be reset"),this.domain_registry[s].path=n,this.domain_registry[s].type=r,o=!1;break}o&&this.domain_registry.push({value:a,path:n,type:r})}else this.domain_registry.push({value:a,path:n,type:r})},iJS.Gettext.context_glue="",iJS.Gettext._locale_data={},iJS.Gettext.prototype.try_load_lang=function(){if(iJS.isSet(this.domain_registry)&&iJS.isSet(this.locale)){iJS.Gettext._locale_data={};var t=null,e=null;for(var i in this.domain_registry)if(t=this.domain_registry[i],e=document.createElement("link"),"json"==t.type)e.href=t.path+"/"+this.locale+"/LC_MESSAGES/"+t.value+".json",this.try_load_lang_json(e.href)||this.try_load_alternative_lang(t,e);else if("po"==t.type)e.href=t.path+"/"+this.locale+"/LC_MESSAGES/"+t.value+".po",this.try_load_lang_po(e.href)||this.try_load_alternative_lang(t,e);else{if(""!=t.path)throw new Error("TODO: link type mo found, and support is planned, but not implemented at this time.");if("undefined"!=typeof this.locale_data){var a=this.locale_data;this.locale_data=void 0,this.parse_locale_data(a),"undefined"==typeof iJS.Gettext._locale_data[t.value]&&console.error("iJS-gettext:'try_load_lang':'locale_data': does not contain the domain '"+t.value+"'")}}}else console.warn("iJS-gettext:'try_load_lang': Not thing to do. It’s seem like no locale or domain have been register. Use `setlocale` or `bindtextdomain` for that.")},iJS.Gettext.prototype.try_load_alternative_lang=function(t,e){if(iJS.isObject(t)&&iJS.isHTMLLinkElement(e)){var i=!1;switch(this.locale_format){case 2:console.warn("iJS-gettext:'try_load_lang': domaine: *"+t.value+"* not found with locale: *"+this.locale+"* format. Will try to use *"+this.locale.split(".")[0]+"* format..."),e.href=t.path+"/"+this.locale.split(".")[0]+"/LC_MESSAGES/"+t.value+"."+t.type,"json"==t.type?i=this.try_load_lang_json(e.href)?!0:!1:"po"==t.type&&(i=this.try_load_lang_po(e.href)?!0:!1),i||(console.warn("iJS-gettext:'try_load_lang': domaine: *"+t.value+"* not found with locale: *"+this.locale.split(".")[0]+"* format. Will try to use *"+this.locale.split("_")[0]+"* format..."),e.href=t.path+"/"+this.locale.split("_")[0]+"/LC_MESSAGES/"+t.value+"."+t.type,"json"==t.type?i=this.try_load_lang_json(e.href)?!0:!1:"po"==t.type&&(i=this.try_load_lang_po(e.href)?!0:!1),i||(e.href=t.path+"/"+this.locale+"/LC_MESSAGES/"+t.value+"."+t.type,console.warn("iJS-gettext:'try_load_lang_"+t.type+"': failed. Unable to exec XMLHttpRequest for link ["+e.href+"]")));break;case 1:console.warn("iJS-gettext:'try_load_lang': domaine: *"+t.value+"* not found with locale: *"+this.locale+"* format. Will try to use *"+this.locale.split("_")[0]+"* format..."),e.href=t.path+"/"+this.locale.split("_")[0]+"/LC_MESSAGES/"+t.value+"."+t.type,"json"==t.type?i=this.try_load_lang_json(e.href)?!0:!1:"po"==t.type&&(i=this.try_load_lang_po(e.href)?!0:!1),i||(e.href=t.path+"/"+this.locale+"/LC_MESSAGES/"+t.value+"."+t.type,console.error("iJS-gettext:'try_load_lang_"+t.type+"': failed. Unable to exec XMLHttpRequest for link ["+e.href+"]"));break;default:console.error("iJS-gettext:'try_load_lang_"+t.type+"': failed. Unable to exec XMLHttpRequest for link ["+e.href+"]")}}else console.warn("iJS-gettext:'try_load_alternative_lang': nothing to do or invalid arguments.")},iJS.Gettext.prototype.parse_locale_data=function(t){"undefined"==typeof iJS.Gettext._locale_data&&(iJS.Gettext._locale_data={});for(var e in t)if(t.hasOwnProperty(e)&&iJS.isSet(t[e])){var i=!1;for(var a in t[e]){i=!0;break}if(i){var n=t[e];""==e&&(e="messages"),iJS.isSet(iJS.Gettext._locale_data[e])||(iJS.Gettext._locale_data[e]={}),iJS.isSet(iJS.Gettext._locale_data[e].head)||(iJS.Gettext._locale_data[e].head={}),iJS.isSet(iJS.Gettext._locale_data[e].msgs)||(iJS.Gettext._locale_data[e].msgs={});for(var r in n)if(""==r){var o=n[r];for(var s in o){var l=s.toLowerCase();iJS.Gettext._locale_data[e].head[l]=o[s]}}else iJS.Gettext._locale_data[e].msgs[r]=n[r]}}for(var e in iJS.Gettext._locale_data)if(iJS.isSet(iJS.Gettext._locale_data[e].head["plural-forms"])&&"undefined"==typeof iJS.Gettext._locale_data[e].head.plural_func){var d=iJS.Gettext._locale_data[e].head["plural-forms"],u=new RegExp("^(\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;a-zA-Z0-9_()])+)","m");if(!u.test(d))throw new Error("iJS-gettext:'parse_locale_data': Syntax error in language file. Plural-Forms header is invalid ["+d+"]");var p=iJS.Gettext._locale_data[e].head["plural-forms"];/;\s*$/.test(p)||(p=p.concat(";"));var c="var plural; var nplurals; "+p+' return { "nplural" : nplurals, "plural" : (plural === true ? 1 : plural ? plural : 0) };';iJS.Gettext._locale_data[e].head.plural_func=new Function("n",c)}else"undefined"==typeof iJS.Gettext._locale_data[e].head.plural_func&&(iJS.Gettext._locale_data[e].head.plural_func=function(t){var e=1!=t?1:0;return{nplural:2,plural:e}})},iJS.Gettext.prototype.try_load_lang_po=function(t){var e=this.sjax(t);if(e){var i=this.uri_basename(t),a=this.parse_po(e),n={};return a&&(a[""]||(a[""]={}),a[""].domain||(a[""].domain=i),i=a[""].domain,n[i]=a,this.parse_locale_data(n)),1}},iJS.Gettext.prototype.uri_basename=function(t){var e;if(e=t.match(/^(.*\/)?(.*)/)){var i;return(i=e[2].match(/^(.*)\..+$/))?i[1]:e[2]}return""},iJS.Gettext.prototype.parse_po=function(t){for(var e={},i={},a="",n=[],r=t.split("\n"),o=0;o<r.length;o++){r[o]=r[o].replace(/(\n|\r)+$/,"");var s;if(/^$/.test(r[o])){if("undefined"!=typeof i.msgid){var l="undefined"!=typeof i.msgctxt&&i.msgctxt.length?i.msgctxt+iJS.Gettext.context_glue+i.msgid:i.msgid,d="undefined"!=typeof i.msgid_plural&&i.msgid_plural.length?i.msgid_plural:null,u=[];for(var p in i){var s;(s=p.match(/^msgstr_(\d+)/))&&(u[parseInt(s[1])]=i[p])}u.unshift(d),u.length>1&&(e[l]=u),i={},a=""}}else{if(/^#/.test(r[o]))continue;(s=r[o].match(/^msgctxt\s+(.*)/))?(a="msgctxt",i[a]=this.parse_po_dequote(s[1])):(s=r[o].match(/^msgid\s+(.*)/))?(a="msgid",i[a]=this.parse_po_dequote(s[1])):(s=r[o].match(/^msgid_plural\s+(.*)/))?(a="msgid_plural",i[a]=this.parse_po_dequote(s[1])):(s=r[o].match(/^msgstr\s+(.*)/))?(a="msgstr_0",i[a]=this.parse_po_dequote(s[1])):(s=r[o].match(/^msgstr\[0\]\s+(.*)/))?(a="msgstr_0",i[a]=this.parse_po_dequote(s[1])):(s=r[o].match(/^msgstr\[(\d+)\]\s+(.*)/))?(a="msgstr_"+s[1],i[a]=this.parse_po_dequote(s[2])):/^"/.test(r[o])?i[a]+=this.parse_po_dequote(r[o]):n.push("Strange line ["+o+"] : "+r[o])}}if("undefined"!=typeof i.msgid){var l="undefined"!=typeof i.msgctxt&&i.msgctxt.length?i.msgctxt+iJS.Gettext.context_glue+i.msgid:i.msgid,d="undefined"!=typeof i.msgid_plural&&i.msgid_plural.length?i.msgid_plural:null,u=[];for(var p in i){var s;(s=p.match(/^msgstr_(\d+)/))&&(u[parseInt(s[1])]=i[p])}u.unshift(d),u.length>1&&(e[l]=u),i={},a=""}if(e[""]&&e[""][1]){for(var c={},h=e[""][1].split(/\\n/),o=0;o<h.length;o++)if(h.length){var g=h[o].indexOf(":",0);if(-1!=g){var f=h[o].substring(0,g),_=h[o].substring(g+1),m=f.toLowerCase();c[m]&&c[m].length?n.push("SKIPPING DUPLICATE HEADER LINE: "+h[o]):/#-#-#-#-#/.test(m)?n.push("SKIPPING ERROR MARKER IN HEADER: "+h[o]):(_=_.replace(/^\s+/,""),c[m]=_)}else n.push("PROBLEM LINE IN HEADER: "+h[o]),c[h[o]]=""}e[""]=c}else e[""]={};return e},iJS.Gettext.prototype.parse_po_dequote=function(t){var e;return(e=t.match(/^"(.*)"/))&&(t=e[1]),t=t.replace(/\\"/g,'"')},iJS.Gettext.prototype.try_load_lang_json=function(t){var e=this.sjax(t);if(e){var i=this.JSON(e);return this.parse_locale_data(i),1}},iJS.Gettext.prototype.textdomain=function(t){return t&&t.length&&(this.domain=t),this.domain},iJS.Gettext.prototype.gettext=function(t){var e,i,a,n;return this.dcnpgettext(null,e,t,i,a,n)},iJS.Gettext.prototype.dgettext=function(t,e){var i,a,n,r;return this.dcnpgettext(t,i,e,a,n,r)},iJS.Gettext.prototype.dcgettext=function(t,e,i){var a,n,r;return this.dcnpgettext(t,a,e,n,r,i)},iJS.Gettext.prototype.ngettext=function(t,e,i){var a,n;return this.dcnpgettext(null,a,t,e,i,n)},iJS.Gettext.prototype.dngettext=function(t,e,i,a){var n,r;return this.dcnpgettext(t,n,e,i,a,r)},iJS.Gettext.prototype.dcngettext=function(t,e,i,a,n){var r;return this.dcnpgettext(t,r,e,i,a,n,n)},iJS.Gettext.prototype.pgettext=function(t,e){var i,a,n;return this.dcnpgettext(null,t,e,i,a,n)},iJS.Gettext.prototype.dpgettext=function(t,e,i){var a,n,r;return this.dcnpgettext(t,e,i,a,n,r)},iJS.Gettext.prototype.dcpgettext=function(t,e,i,a){var n,r;return this.dcnpgettext(t,e,i,n,r,a)},iJS.Gettext.prototype.npgettext=function(t,e,i,a){var n;return this.dcnpgettext(null,t,e,i,a,n)},iJS.Gettext.prototype.dnpgettext=function(t,e,i,a,n){var r;return this.dcnpgettext(t,e,i,a,n,r)},iJS.Gettext.prototype.dcnpgettext=function(t,e,i,a,n){if(!iJS.isSet(i))return"";var r=iJS.isSet(a),o=iJS.isSet(e)?e+iJS.Gettext.context_glue+i:i,s=iJS.isSet(t)?t:iJS.isSet(this.domain)?this.domain:"messages",l=new Array;if("undefined"!=typeof iJS.Gettext._locale_data&&iJS.isSet(iJS.Gettext._locale_data[s]))l.push(iJS.Gettext._locale_data[s]);else if("undefined"!=typeof iJS.Gettext._locale_data)for(var d in iJS.Gettext._locale_data)l.push(iJS.Gettext._locale_data[d]);var u,p=[],c=!1;if(l.length)for(var h=0;h<l.length;h++){var g=l[h];if(iJS.isSet(g.msgs[o])){for(var f=0;f<g.msgs[o].length;f++)p[f]=g.msgs[o][f];if(p.shift(),u=g,c=!0,p.length>0&&0!=p[0].length)break}}(0==p.length||0==p[0].length)&&(p=[i,a]);var _=p[0];if(r){var m;if(c&&iJS.isSet(u.head.plural_func)){var S=u.head.plural_func(n);S.plural||(S.plural=0),S.nplural||(S.nplural=0),S.nplural<=S.plural&&(S.plural=0),m=S.plural}else m=1!=n?1:0;iJS.isSet(p[m])&&(_=p[m])}return _},iJS.Gettext.strargs=function(t,e){null==e||"undefined"==typeof e?e=[]:e.constructor!=Array&&(e=[e]);for(var i="";;){var a,n=t.indexOf("%");if(-1==n){i+=t;break}if(i+=t.substr(0,n),"%%"==t.substr(n,2))i+="%",t=t.substr(n+2);else if(a=t.substr(n).match(/^%(\d+)/)){var r=parseInt(a[1]),o=a[1].length;r>0&&null!=e[r-1]&&"undefined"!=typeof e[r-1]&&(i+=e[r-1]),t=t.substr(n+1+o)}else i+="%",t=t.substr(n+1)}return i},iJS.Gettext.prototype.strargs=function(t,e){return iJS.Gettext.strargs(t,e)},iJS.Gettext.prototype.sjax=function(t){var e=iJS.newHTTPRequest();if(e){e.open("GET",t,!1);try{e.send(null)}catch(i){return}var a=e.status;if(200==a||0==a)return e.responseText;var n=e.statusText+" (Error "+e.status+")";return e.responseText.length&&(n+="\n"+e.responseText),void console.error(n)}console.error("iJS-gettext:'sjax': Your browser doesn't do Ajax. Unable to support external language files.")},iJS.Gettext.prototype.JSON=function(data){return eval("("+data+")")};
//# sourceMappingURL=i.min.js.map
